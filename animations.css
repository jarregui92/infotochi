/* Idle & Action Animations */

/* Jump (Happy/Play) */
@keyframes jump {
    0%, 100% { transform: translateY(0) scale(1); }
    40% { transform: translateY(-30px) scale(1.1); }
    60% { transform: translateY(-15px) scale(1.05); }
}

/* Shake (Eat/Refuse) */
@keyframes shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-15deg) scale(1.1); }
    75% { transform: rotate(15deg) scale(1.1); }
}

/* Spin (Excited) */
@keyframes spin {
    0% { transform: rotate(0deg) scale(1); }
    100% { transform: rotate(360deg) scale(1); }
}

/* Blink (Idle) - Applied to eyes, not body, but we can simulate a body bop too */
@keyframes bounce {
    0%, 100% { transform: scale(1, 1); }
    50% { transform: scale(1.1, 0.9) translateY(5px); } /* Squish */
}

/* Wobble (Unsure/Idle) */
@keyframes wobble {
    0% { transform: translateX(0%); }
    15% { transform: translateX(-25%) rotate(-5deg); }
    30% { transform: translateX(20%) rotate(3deg); }
    45% { transform: translateX(-15%) rotate(-3deg); }
    60% { transform: translateX(10%) rotate(2deg); }
    75% { transform: translateX(-5%) rotate(-1deg); }
    100% { transform: translateX(0%); }
}

/* Pulse (Sleeping/Relaxed) */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Spritesheet Animations */
.pet-spritesheet {
    background-size: calc(var(--frames) * 100%) 100%; /* Force horizontal strip scaling */
    background-repeat: no-repeat;
    image-rendering: pixelated; /* Keep pixel art sharp */
    background-position: 0 0;
    background-color: transparent !important;
    box-shadow: none !important;
    border: none !important;
    border-radius: 0 !important;
}

/* Specific Animations for Spritesheets */
.sprite-idle {
    animation: sprite-idle-anim 0.8s steps(var(--frames)) infinite;
}

.sprite-action {
    animation: sprite-action-anim 1s steps(var(--frames)) forwards;
}

@keyframes sprite-idle-anim {
    from { background-position: 0 0; }
    to { background-position: calc(var(--frames) * var(--pet-w) * -1px) 0; }
}

@keyframes sprite-action-anim {
    from { background-position: 0 0; }
    to { background-position: calc(var(--frames) * var(--pet-w) * -1px) 0; }
}

/* Classes to apply inherited from original system */
.anim-jump { animation: jump 0.6s ease; } /* Keep bounce for body if needed */
.anim-shake { animation: shake 0.5s ease; }
.anim-spin { animation: spin 0.8s ease-in-out; }
.anim-bounce { animation: bounce 0.4s ease; }
.anim-wobble { animation: wobble 1s ease; }
.anim-pulse { animation: pulse 2s infinite ease-in-out; }
